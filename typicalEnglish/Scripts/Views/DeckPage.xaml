<Page x:Class="typicalEnglish.Scripts.Views.DeckPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:local="clr-namespace:typicalEnglish"
      xmlns:i="http://schemas.microsoft.com/expression/2010/interactivity"
      xmlns:md="http://materialdesigninxaml.net/winfx/xaml/themes"
      mc:Ignorable="d" 
       xmlns:dd="urn:gong-wpf-dragdrop"
      d:DesignHeight="450" d:DesignWidth="800"
      Title="DeckPage" DataContext="{x:Static local:App.DeckVM}"
      FontFamily="Candara Light">

    <Grid>
        <!--#region Row Definitions-->

        <Grid.RowDefinitions>
            <RowDefinition Height="70"/>
            <RowDefinition/>
        </Grid.RowDefinitions>
        
        <!--#endregion-->        
        <!--#region Back Button-->
        <Button Background="White" Height="45" Width="65" BorderBrush="Transparent"
                Content="{md:PackIcon Kind=ArrowBack,Size=30}" HorizontalAlignment="Left"
                VerticalAlignment="Top" Margin="5">
            <i:Interaction.Triggers>
                <i:EventTrigger EventName="Click">
                    <i:InvokeCommandAction Command="{Binding BackCommand}"/>
                </i:EventTrigger>
            </i:Interaction.Triggers>
        </Button>
        <!--#endregion-->

        <!--#region Add Deck Button-->
        <Button HorizontalAlignment="Center" VerticalAlignment="Top" Background="Transparent"
                Height="70" Width="70" 
                Content="{md:PackIcon Kind=TabAdd, Size=40}" ToolTip="Add word"
                    BorderThickness="0" BorderBrush="Transparent">
            <i:Interaction.Triggers>
                <i:EventTrigger EventName="Click">
                    <i:InvokeCommandAction Command="{Binding AddWordCommand}"/>
                </i:EventTrigger>
            </i:Interaction.Triggers>
        </Button>

        <!--#endregion-->

        <ListBox Grid.Row="1" dd:DragDrop.IsDropTarget="True" ItemsSource="{Binding Words}"
                 HorizontalAlignment="Stretch">
            <ListBox.ItemContainerStyle>
                <Style TargetType="ListBoxItem" BasedOn="{StaticResource {x:Type ListBoxItem}}">
                    <Setter Property="HorizontalContentAlignment" Value="Stretch"></Setter>
                </Style>
            </ListBox.ItemContainerStyle>
            <ListBox.ItemTemplate>
                <DataTemplate>
                    <StackPanel>
                        <Grid>
                            <StackPanel HorizontalAlignment="Center">
                                <TextBlock Text="{Binding Spelling}" FontStyle="Italic"
                                       FontSize="30" />
                                <TextBlock Text="{Binding  StringFormat=[{0}], Path=Transcription}"
                                           FontSize="15" HorizontalAlignment="Center"/>
                            </StackPanel>
                            <Button Content="{md:PackIcon Kind=Edit}" HorizontalAlignment="Right"
                                BorderBrush="Transparent" BorderThickness="0" Background="Transparent"/>
                        </Grid>
                    </StackPanel>
                </DataTemplate>
            </ListBox.ItemTemplate>
        </ListBox>

    </Grid>
</Page>
